<!doctype html><html lang=ko dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Spring Data JPA와 JPQL 함께 사용하기 | Halog</title>
<meta name=keywords content=",">
<meta name=description content="JPQL 이란? 예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(나무위키 링크)
2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.
이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.
더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.
간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.
JPQL
public List<Member> findAll() { EntityManager entityManager; return entityManager.">
<meta name=author content="Haseop">
<link rel=canonical href=https://haservi.github.io/posts/spring/springdatajpa-and-customquery/>
<meta name=google-site-verification content="G-MXZP81P04W">
<link rel=stylesheet as=style crossorigin href=https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard.css>
<link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style>
<link rel=icon href=https://haservi.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://haservi.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://haservi.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://haservi.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://haservi.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RP5NDCM8J9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-RP5NDCM8J9',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Spring Data JPA와 JPQL 함께 사용하기">
<meta property="og:description" content="JPQL 이란? 예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(나무위키 링크)
2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.
이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.
더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.
간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.
JPQL
public List<Member> findAll() { EntityManager entityManager; return entityManager.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://haservi.github.io/posts/spring/springdatajpa-and-customquery/"><meta property="og:image" content="https://haservi.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-01-17T23:09:03+09:00">
<meta property="article:modified_time" content="2022-01-17T23:09:03+09:00"><meta property="og:site_name" content="Halog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://haservi.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Spring Data JPA와 JPQL 함께 사용하기">
<meta name=twitter:description content="JPQL 이란? 예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(나무위키 링크)
2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.
이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.
더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.
간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.
JPQL
public List<Member> findAll() { EntityManager entityManager; return entityManager.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://haservi.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Spring Data JPA와 JPQL 함께 사용하기","item":"https://haservi.github.io/posts/spring/springdatajpa-and-customquery/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Spring Data JPA와 JPQL 함께 사용하기","name":"Spring Data JPA와 JPQL 함께 사용하기","description":"JPQL 이란? 예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(나무위키 링크)\n2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.\n이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.\n더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.\n간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.\nJPQL\npublic List\u0026lt;Member\u0026gt; findAll() { EntityManager entityManager; return entityManager.","keywords":["",""],"articleBody":" JPQL 이란? 예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(나무위키 링크)\n2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.\n이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.\n더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.\n간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.\nJPQL\npublic ListMember findAll() { EntityManager entityManager; return entityManager.createQuery(\"select m from Member m \", Member.class) .getResultList(); } Querydsl\npublic ListMember findAll() { JPAQueryFactory queryFactory; return queryFactory .selectFrom(QMember.member) .fetch(); } 결국은 같은 결과를 호출하지만 Querydsl을 이용하면 쿼리작성 및 빌드 오류를 컴파일 시점에 방지할 수 있습니다.\n가독성도 Querydsl쪽이 더 좋습니다.\nSpring Data JPA란? CRUD 처리를 위한 공통 인터페이스를 JPA에서 미리 만들어 놓은 것입니다.\n일반적으로 Entity 어노테이션을 선언한 클래스를 매개변수로 JpaRepository 인터페이스를 상속받아 사용합니다.\n이렇게되면 실제로 SQL관련 코드하나 사용하지 않고 간단한 CRUD는 처리가 가능합니다.\n사용자 정의 인터페이스 상속받기 인터페이스는 다중상속이 가능하기 때문에 먼저 CustomRepository를 인터페이스로 생성합니다.\npublic interface CustomMemberRepository { void customSave(Member member); } 그리고 구현체에 해당 선언한 함수들을 구현합니다.\n@RequiredArgsConstructor public class CustomMemberRepositoryImpl implements CustomMemberRepository { private final EntityManager em; @Override public void customSave(Member member) { em.persist(member); } } 마지막으로 직접사용할 인터페이스에 위의 인터페이스를 추가합니다.\npublic interface MemberRepository extends JpaRepositoryMember, Long, CustomMemberRepository { } 위와 같이 스프링 데이터 JPA에서 제공하는 기능과 필요한 기능이 복잡해짐에 따른 커스텀 쿼리를 인터페이스화 하여 함께 사용할 수 있습니다.\n같은 결과라도 memberRepository.customSave(member)와 memberRepository.save(member)의 방식이 다릅니다.\n아래는 package org.springframework.data.jpa.repository.support;에서 구현된 save(S entity) 구현체 입니다.\n@Transactional @Override public S extends T S save(S entity) { Assert.notNull(entity, \"Entity must not be null.\"); if (entityInformation.isNew(entity)) { em.persist(entity); return entity; } else { return em.merge(entity); } } 스프링 데이터 JPA에서 제공하는 함수 가이드 링크 입니다.\n","wordCount":"279","inLanguage":"ko","datePublished":"2022-01-17T23:09:03+09:00","dateModified":"2022-01-17T23:09:03+09:00","author":{"@type":"Person","name":"Haseop"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://haservi.github.io/posts/spring/springdatajpa-and-customquery/"},"publisher":{"@type":"Organization","name":"Halog","logo":{"@type":"ImageObject","url":"https://haservi.github.io/favicon.ico"}}}</script>
</head>
<body class=dark id=top>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://haservi.github.io/ accesskey=h title="Halog (Alt + H)">Halog</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=https://haservi.github.io/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://haservi.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://haservi.github.io/projects/ title=Projects>
<span>Projects</span>
</a>
</li>
<li>
<a href=https://haservi.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://haservi.github.io/>홈</a>&nbsp;»&nbsp;<a href=https://haservi.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Spring Data JPA와 JPQL 함께 사용하기
</h1>
<div class=post-meta><span title="2022-01-17 23:09:03 +0900 +0900">1월 17, 2022</span>&nbsp;·&nbsp;2 분&nbsp;·&nbsp;Haseop&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/spring/springdatajpa-and-customquery/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>목차</span>
</summary>
<div class=inner><ul>
<li>
<a href=#jpql-%ec%9d%b4%eb%9e%80 aria-label="JPQL 이란?">JPQL 이란?</a></li>
<li>
<a href=#spring-data-jpa%eb%9e%80 aria-label="Spring Data JPA란?">Spring Data JPA란?</a></li>
<li>
<a href=#%ec%82%ac%ec%9a%a9%ec%9e%90-%ec%a0%95%ec%9d%98-%ec%9d%b8%ed%84%b0%ed%8e%98%ec%9d%b4%ec%8a%a4-%ec%83%81%ec%86%8d%eb%b0%9b%ea%b8%b0 aria-label="사용자 정의 인터페이스 상속받기">사용자 정의 인터페이스 상속받기</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content>
<h2 id=jpql-이란>JPQL 이란?<a hidden class=anchor aria-hidden=true href=#jpql-이란>#</a></h2>
<p>예전에는 JPQL은 Java Persistence Query Language로 불렸지만 현재의 JPQL은(Jakarta Persistence Query Language) 라고 합니다.(<a href=https://en.wikipedia.org/wiki/Jakarta_Persistence target=_blank>나무위키 링크</a>)<br>
2019년부터 JPA(Java Persistence API)또한 Jakarta Persistence로 변경됐습니다.</p>
<p>이름은 달라졌지만 역할은 달라지지 않았습니다. JPQL을 이용하여 관계형 데이터베이스의 엔티티를 정의하고 이를 활용한 쿼리 언어를 자바를 이용하여 구현합니다.<br>
더 나아가 Querydsl을 이용하면 좀 더 직관적이고 오류 없이 자바를 이용하여 작성할 수 있습니다.</p>
<p>간단한 예시로 회원 조회를 하는 경우 JPQL과 Querydsl의 차이는 아래와 같습니다.</p>
<p>JPQL</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Member</span><span class=o>&gt;</span> <span class=nf>findAll</span><span class=o>()</span> <span class=o>{</span>
    <span class=n>EntityManager</span> <span class=n>entityManager</span><span class=o>;</span>

    <span class=k>return</span> <span class=n>entityManager</span><span class=o>.</span><span class=na>createQuery</span><span class=o>(</span><span class=s>&#34;select m from Member m &#34;</span><span class=o>,</span> <span class=n>Member</span><span class=o>.</span><span class=na>class</span><span class=o>)</span>
        <span class=o>.</span><span class=na>getResultList</span><span class=o>();</span>
<span class=o>}</span></code></pre></div>
<p>Querydsl</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Member</span><span class=o>&gt;</span> <span class=nf>findAll</span><span class=o>()</span> <span class=o>{</span>
    <span class=n>JPAQueryFactory</span> <span class=n>queryFactory</span><span class=o>;</span>

    <span class=k>return</span> <span class=n>queryFactory</span>
        <span class=o>.</span><span class=na>selectFrom</span><span class=o>(</span><span class=n>QMember</span><span class=o>.</span><span class=na>member</span><span class=o>)</span>
        <span class=o>.</span><span class=na>fetch</span><span class=o>();</span>
<span class=o>}</span></code></pre></div>
<p>결국은 같은 결과를 호출하지만 Querydsl을 이용하면 쿼리작성 및 빌드 오류를 컴파일 시점에 방지할 수 있습니다.<br>
가독성도 Querydsl쪽이 더 좋습니다.</p>
<h2 id=spring-data-jpa란>Spring Data JPA란?<a hidden class=anchor aria-hidden=true href=#spring-data-jpa란>#</a></h2>
<p>CRUD 처리를 위한 공통 인터페이스를 JPA에서 미리 만들어 놓은 것입니다.<br>
일반적으로 Entity 어노테이션을 선언한 클래스를 매개변수로 JpaRepository 인터페이스를 상속받아 사용합니다.<br>
이렇게되면 실제로 SQL관련 코드하나 사용하지 않고 간단한 CRUD는 처리가 가능합니다.</p>
<h2 id=사용자-정의-인터페이스-상속받기>사용자 정의 인터페이스 상속받기<a hidden class=anchor aria-hidden=true href=#사용자-정의-인터페이스-상속받기>#</a></h2>
<p>인터페이스는 다중상속이 가능하기 때문에 먼저 CustomRepository를 인터페이스로 생성합니다.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>CustomMemberRepository</span> <span class=o>{</span>
    <span class=kt>void</span> <span class=nf>customSave</span><span class=o>(</span><span class=n>Member</span> <span class=n>member</span><span class=o>);</span>
<span class=o>}</span></code></pre></div>
<p>그리고 구현체에 해당 선언한 함수들을 구현합니다.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@RequiredArgsConstructor</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>CustomMemberRepositoryImpl</span> <span class=kd>implements</span> <span class=n>CustomMemberRepository</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=kd>final</span> <span class=n>EntityManager</span> <span class=n>em</span><span class=o>;</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>customSave</span><span class=o>(</span><span class=n>Member</span> <span class=n>member</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>em</span><span class=o>.</span><span class=na>persist</span><span class=o>(</span><span class=n>member</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></div>
<p>마지막으로 직접사용할 인터페이스에 위의 인터페이스를 추가합니다.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>MemberRepository</span> <span class=kd>extends</span> <span class=n>JpaRepository</span><span class=o>&lt;</span><span class=n>Member</span><span class=o>,</span> <span class=n>Long</span><span class=o>&gt;,</span> <span class=n>CustomMemberRepository</span> <span class=o>{</span>

<span class=o>}</span></code></pre></div>
<p>위와 같이 스프링 데이터 JPA에서 제공하는 기능과 필요한 기능이 복잡해짐에 따른 커스텀 쿼리를 인터페이스화 하여
함께 사용할 수 있습니다.</p>
<p>같은 결과라도 <code>memberRepository.customSave(member)</code>와 <code>memberRepository.save(member)</code>의 방식이 다릅니다.<br>
아래는 <code>package org.springframework.data.jpa.repository.support;</code>에서 구현된 <code>save(S entity)</code> 구현체 입니다.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@Transactional</span>
<span class=nd>@Override</span>
<span class=kd>public</span> <span class=o>&lt;</span><span class=n>S</span> <span class=kd>extends</span> <span class=n>T</span><span class=o>&gt;</span> <span class=n>S</span> <span class=nf>save</span><span class=o>(</span><span class=n>S</span> <span class=n>entity</span><span class=o>)</span> <span class=o>{</span>

    <span class=n>Assert</span><span class=o>.</span><span class=na>notNull</span><span class=o>(</span><span class=n>entity</span><span class=o>,</span> <span class=s>&#34;Entity must not be null.&#34;</span><span class=o>);</span>

    <span class=k>if</span> <span class=o>(</span><span class=n>entityInformation</span><span class=o>.</span><span class=na>isNew</span><span class=o>(</span><span class=n>entity</span><span class=o>))</span> <span class=o>{</span>
        <span class=n>em</span><span class=o>.</span><span class=na>persist</span><span class=o>(</span><span class=n>entity</span><span class=o>);</span>
        <span class=k>return</span> <span class=n>entity</span><span class=o>;</span>
    <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>em</span><span class=o>.</span><span class=na>merge</span><span class=o>(</span><span class=n>entity</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></div>
<p>스프링 데이터 JPA에서 제공하는 함수 가이드 <a href=https://docs.spring.io/spring-data/jpa/docs/2.6.0/reference/html/#jpa.query-methods.query-creation target=_blank>링크</a>
입니다.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
</ul>
</footer>
<section class=comments>
<script>loadComment();function loadComment(){document.body.className.includes("dark")?theme='photon-dark':theme='boxy-light';let a=document.createElement('script');a.src='https://utteranc.es/client.js',a.setAttribute('repo','haservi/haservi.github.io'),a.setAttribute('issue-term','pathname'),a.setAttribute('theme',theme),a.setAttribute('crossorigin','anonymous'),a.setAttribute('async',''),document.querySelector('section.comments').innerHTML='',document.querySelector('section.comments').appendChild(a)}</script>
</section>
</article>
</main>
<footer class=footer>
<span>&copy; 2023 <a href=https://haservi.github.io/>Halog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(a=>{mediumZoom(a,{margin:0,background:'#1d1e20',scrollOffset:40,container:null,template:null})})</script>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark')),loadComment()})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='복사';function d(){a.innerHTML='복사 완료!',setTimeout(()=>{a.innerHTML='복사'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>